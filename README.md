### Status: In Development üöß

<p align="center">
  <img src="./static/assets/monigo-icon.png" width="200" title="Monigo Icon" alt="monigo-icon"/>
</p>

# MoniGo - Performance Monitoring for Go Applications

[![Go Report Card](https://goreportcard.com/badge/github.com/iyashjayesh/monigo)](https://goreportcard.com/report/github.com/iyashjayesh/monigo)
[![GoDoc](https://godoc.org/github.com/iyashjayesh/monigo?status.svg)](https://pkg.go.dev/github.com/iyashjayesh/monigo)
[![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](https://opensource.org/licenses/Apache-2.0)

**MoniGo** is a performance monitoring library for Go applications. It provides real-time insights into application performance with an intuitive user interface, enabling developers to track and optimize both service-level and function-level metrics.

## Features

- **Real-Time Monitoring**: Access up-to-date performance metrics for your Go applications.
- **Detailed Insights**: Track and analyze both service and function-level performance.
- **Customizable Dashboard**: Manage performance data with an easy-to-use UI.
- **Visualizations**: Utilize graphs and charts to interpret performance trends.

<img width="1506" alt="Screenshot 2024-09-08 at 4 39 55‚ÄØPM" src="https://github.com/user-attachments/assets/b7065488-3e8d-4bf9-9653-86e8db6d494f">

## Installation

To install MoniGo, use the following command:

```bash
go get github.com/iyashjayesh/monigo
```

## Example: How to Use MoniGo

```go
package main

import (
    "github.com/iyashjayesh/monigo"
)

func main() {

	monigoInstance := &monigo.Monigo{
		ServiceName:        "service_name", // **Required**
		PurgeMonigoStorage: true,       	// Default is false
		DashboardPort:      8080,       	// Default is 8080
		DbSyncFrequency:    "10s",       	// Default is 5 Minutes "5m"
		RetentionPeriod:    "4d",       	// Default is 14 days (2 weeks)
	}

	// 	### Weight Configuration

	// In the health scoring system, weights determine the importance of each metric:

	// - **Weight of `1.0`**: Indicates maximum importance. Metrics with this weight have the highest impact on the overall health score.
	// - **Weights Less Than `1.0`**: Reflect decreasing levels of importance. Metrics with lower weights contribute less to the overall score.

	// **Example**:
	// - Set `MaxLoad.Weight` to `1.0` if CPU load is critical.
	// - Set `MaxMemory.Weight` to `0.5` if memory usage is moderately important.
	// - Set `MaxGoroutines.Weight` to `0.2` for less critical metrics.

	// 1.0 is the maximum weight and 0.0 is the minimum weight.
	// critical - 1.0
	// moderate - 0.5
	// less critical - 0.2

	// to check overall health of the service
	monigoInstance.SetServiceThresholds(&models.ServiceHealthThresholds{
		MaxGoroutines: models.Thresholds{
			Value:  100, //Default is 100
			Weight: 1.0, //Default is 0.2
		},
		MaxCPULoad: models.Thresholds{
			Value:  85, //Default is 85%
			Weight: 0.5, //Default is 0.7
		},
		MaxMemory: models.Thresholds{
			Value:  80, //Default is 85%
			Weight: 0.2, //Default is 0.7
		},
	})

	monigoInstance.Start()

	// Optinal
	// routinesStats := monigoInstance.PrintGoRoutinesStats() // Print go routines stats
	// log.Println(routinesStats)

    select {} // To keep the program running
}
```

For more detailed usage instructions, refer to the documentation.

By default, the dashboard will be available at http://localhost:8080/.

You can access the dashboard by visiting the following URL: http://localhost:8080/

Reports need to be generated by the user by clicking on the "Generate Report" button on the Reports page.

## Bellow Reports are available:

1. **Load Statistics**: Provides an overview of the overall load of the service, CPU load, memory load, and system load.

| Field Name                | Value (Datatype) |
| ------------------------- | ---------------- |
| `overall_load_of_service` | `float64`        |
| `service_cpu_load`        | `float64`        |
| `service_memory_load`     | `float64`        |
| `system_cpu_load`         | `float64`        |
| `system_memory_load`      | `float64`        |

2. **CPU Statistics**: Displays the total number of cores, cores used by the service, and cores used by the system.

| Field Name              | Value (Datatype) |
| ----------------------- | ---------------- |
| `total_cores`           | `int`            |
| `cores_used_by_service` | `int`            |
| `cores_used_by_system`  | `int`            |

3. **Memory Statistics**: Shows the total system memory, memory used by the system, memory used by the service, available memory, GC pause duration, and stack memory usage.

| Field Name               | Value (Datatype) |
| ------------------------ | ---------------- |
| `total_system_memory`    | `float64`        |
| `memory_used_by_system`  | `float64`        |
| `memory_used_by_service` | `float64`        |
| `available_memory`       | `float64`        |
| `gc_pause_duration`      | `float64`        |
| `stack_memory_usage`     | `float64`        |

4. **Memory Profile**: Provides information on heap allocation by the service, heap allocation by the system, total allocation by the service, and total memory by the OS.

| Field Name               | Value (Datatype) |
| ------------------------ | ---------------- |
| `heap_alloc_by_service`  | `float64`        |
| `heap_alloc_by_system`   | `float64`        |
| `total_alloc_by_service` | `float64`        |
| `total_memory_by_os`     | `float64`        |

5. **Network IO**: Displays the number of bytes sent and received.

| Field Name       | Value (Datatype) |
| ---------------- | ---------------- |
| `bytes_sent`     | `float64`        |
| `bytes_received` | `float64`        |

6. **Overall Health**: Provides an overall health percentage for the service.

| Field Name               | Value (Datatype) |
| ------------------------ | ---------------- |
| `overall_health_percent` | `float64`        |

## API Reference

- You can access the MoniGo API by visiting the following URL: http://localhost:8080/monigo/api/v1/<endpoint> (replace `<endpoint>` with the desired endpoint).
- API endpoints are available for the following:

| Endpoint                           | Description           | Method | Request                                             | Response | Example                                          |
| ---------------------------------- | --------------------- | ------ | --------------------------------------------------- | -------- | ------------------------------------------------ |
| `/monigo/api/v1/metrics`           | Get all metrics       | GET    | None                                                | JSON     | [Example](./docs/API/Res/metrics.json)           |
| `/monigo/api/v1/go-routines-stats` | Get go routines stats | GET    | None                                                | JSON     | [Example](./docs/API/Res/go-routines-stats.json) |
| `/monigo/api/v1/service-info`      | Get service info      | GET    | None                                                | JSON     | [Example](./docs/API/Res/service-info.json)      |
| `/monigo/api/v1/service-metrics`   | Get service metrics   | POST   | JSON [Example](./docs/API/Req/service-metrics.json) | JSON     | [Example](./docs/API/Res/service-metrics.json)   |
| `/monigo/api/v1/reports`           | Get history data      | POST   | JSON [Example](./docs/API/Req/reports.json)         | JSON     | [Example](./docs/API/Res/reports.json)           |

## Contributing

We welcome contributions! If you encounter any issues or have suggestions, please submit a pull request or open an issue.

For more information on how to contribute, please refer to the CONTRIBUTING.md file.

If you find MoniGo useful, consider giving it a star! ‚≠ê

## Contact

For questions or feedback, please open an issue or contact me at iyashjayesh@gmail.com

<!-- ## Star History

[![Star History Chart](https://api.star-history.com/svg?repos=iyashjayesh/monigo&type=Date)](https://star-history.com/#iyashjayesh/monigo&Date) -->

## License

This project is licensed under the Apache 2.0 License - see the [LICENSE file](https://github.com/iyashjayesh/monigo?tab=Apache-2.0-1-ov-file) for details.
